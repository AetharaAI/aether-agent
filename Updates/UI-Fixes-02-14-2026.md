# UI Fixes - AetherOS Enterprise

**Date:** February 14, 2026
**Priority:** HIGH - User Experience Critical

---

## Issues to Fix

1. ✅ **Markdown Rendering** - Make responses look like Claude.ai/ChatGPT
2. ⏳ **Folders Button** - Currently non-functional
3. ⏳ **Attachment/Paperclip Button** - Not working
4. ⏳ **Chat History Click** - Chats don't load when clicked

---

## 1. Markdown Rendering (CRITICAL)

### Current State
- Plain text rendering with `whitespace-pre-wrap`
- No code syntax highlighting
- No lists, bold, italic, headings
- Looks unprofessional compared to Claude.ai

### Solution
Install and integrate `react-markdown` with `remark-gfm` and `react-syntax-highlighter`:

```bash
cd ui/client
pnpm add react-markdown remark-gfm rehype-raw react-syntax-highlighter
pnpm add -D @types/react-syntax-highlighter
```

### Implementation

**File:** `ui/client/src/components/ChatBubble.tsx`

Replace the content rendering (line 62-68) with a proper markdown renderer.

---

## 2. Folders Button

**Location:** Left sidebar in AetherPanelV2
**Issue:** Button exists but has no handler
**Fix:** Wire up folder browser to workspace directory or remove if not needed

---

## 3. Attachment Button

**Location:** Input area (Paperclip icon)
**Issue:** `fileInputRef` exists but not properly wired
**Fix:** Connect to file input and handle file uploads

---

## 4. Chat History Loading

**Location:** `ChatHistory.tsx` line 153
**Issue:** `onSessionSelect(session.id)` is called but parent doesn't load the session
**Fix:** Implement session loading in parent component

---

## Implementation Plan

### Phase 1: Markdown Rendering (30 min)
- Install dependencies
- Create MarkdownRenderer component
- Replace plain text in ChatBubble
- Test with code blocks, lists, tables

### Phase 2: Chat History Loading (20 min)
- Find parent component's onSessionSelect handler
- Implement loadChatSession API call
- Update messages state with loaded history

### Phase 3: Attachment Button (15 min)
- Wire file input to button click
- Handle file selection and upload
- Display attachments in UI

### Phase 4: Folders Button (10 min)
- Either implement workspace browser
- Or remove button if not needed

---

## Files to Modify

1. `ui/client/src/components/ChatBubble.tsx` - Add markdown rendering
2. `ui/client/src/components/MarkdownRenderer.tsx` - NEW component
3. `ui/client/src/components/AetherPanelV2.tsx` - Fix chat loading, attachments
4. `ui/client/src/hooks/useAgentRuntime.ts` - May need updates for loading sessions
5. `ui/client/src/lib/aether-api.ts` - Verify API methods exist

---

## Expected Results

**Before:**
- Plain text responses
- Broken buttons
- Chats don't load
- Unprofessional appearance

**After:**
- Rich markdown with syntax highlighting
- Functional file attachments
- Clickable chat history that loads conversations
- Professional Claude.ai-like rendering
- Enterprise-grade UI polish

---

This will transform the user experience from "prototype" to "production-ready enterprise application".
